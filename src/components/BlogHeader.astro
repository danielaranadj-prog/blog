---
import { SITE } from '../config';

// üëá AQU√ç EST√Å EL CAMBIO: Reemplazamos "Blog" por "Manifiesto"
const navItems = [
  { label: "Inicio", href: "/" },
  { label: "Destinos", href: "/destinos" },
  { label: "Sobre M√≠", href: "/sobre-mi" },
  { label: "Manifiesto", href: "/manifiesto" },
  { label: "Contacto", href: "mailto:instantecreativo@icloud.com" },
];
---

<header class="site-header" id="main-header">
    <div class="header-container">
        
        <a href="/" class="logo-wrapper">
            <img src="/logo.svg" alt={SITE.title || "Instante Trips"} class="logo" />
        </a>

        <nav class="desktop-nav">
            <ul>
                {navItems.map((item) => (
                    <li>
                        <a href={item.href} class="nav-link">{item.label}</a>
                    </li>
                ))}
            </ul>
        </nav>

        <button id="mobile-menu-btn" aria-label="Abrir men√∫">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>
    </div>

    <div id="mobile-menu" class="mobile-menu-container">
        <nav>
            <ul>
                {navItems.map((item) => (
                    <li>
                        <a href={item.href} class="mobile-link">{item.label}</a>
                    </li>
                ))}
            </ul>
        </nav>
    </div>
</header>

<a href="#main-content" class="skip-link">Saltar al contenido</a>

<script>
    const btn = document.getElementById('mobile-menu-btn');
    const menu = document.getElementById('mobile-menu');
    if (btn && menu) {
        btn.addEventListener('click', () => {
            btn.classList.toggle('active');
            menu.classList.toggle('active');
        });
    }
</script>

<style>
    /* === HEADER - GLASSMORPHISM PREMIUM === */
    .site-header {
        /* LIGHT MODE (Default) */
        --header-bg: rgba(255, 255, 255, 0.85);
        --header-text: #2D3748;
        --header-border: rgba(0, 0, 0, 0.05);
        --logo-filter: none;
        --hover-color: #F4B942;

        position: sticky;
        top: 0;
        z-index: 1000;
        width: 100%;
        height: 70px;
        
        background: var(--header-bg);
        border-bottom: 1px solid var(--header-border);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);
        transition: all 0.3s ease;
    }

    /* Animated gradient border bottom */
    .site-header::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, transparent, #F4B942, #75AADB, #F4B942, transparent);
        background-size: 200% 100%;
        animation: borderFlow 4s linear infinite;
        opacity: 0.7;
    }

    @keyframes borderFlow {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
    }

    /* Dark Mode - Automatic system preference */
    @media (prefers-color-scheme: dark) {
        .site-header {
            --header-bg: rgba(15, 23, 42, 0.85);
            --header-text: #ffffff;
            --header-border: rgba(255, 255, 255, 0.08);
            --logo-filter: grayscale(100%) invert(100%) brightness(200%);
        }
    }
    
    /* Skip to Content Link (Accessibility) */
    .skip-link {
        position: absolute;
        top: -48px;
        left: 0;
        background: var(--accent-gold, #F4B942);
        color: #000;
        padding: 12px 20px;
        text-decoration: none;
        font-weight: 700;
        font-size: 0.9rem;
        z-index: 10000;
        border-radius: 0 0 8px 0;
        transition: top 0.3s ease;
    }
    
    .skip-link:focus {
        top: 0;
        outline: 3px solid var(--brand-blue, #75AADB);
        outline-offset: 2px;
    }

    .header-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
        height: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    /* --- LOGO --- */
    .logo-wrapper { 
        display: flex; 
        align-items: center;
    }
    
    .logo {
        height: 40px; 
        width: auto; 
        object-fit: contain;
        filter: var(--logo-filter);
        box-shadow: none !important; 
        border-radius: 0 !important; 
        background: none !important;
        transition: all 0.3s ease;
    }

    .logo-wrapper:hover .logo {
        filter: var(--logo-filter) drop-shadow(0 0 8px rgba(244, 185, 66, 0.5));
        transform: scale(1.05);
    }

    /* --- NAVIGATION --- */
    .desktop-nav {
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }
    
    .desktop-nav ul {
        display: flex; 
        gap: 2.5rem; 
        list-style: none; 
        margin: 0; 
        padding: 0;
    }

    .nav-link {
        text-decoration: none;
        color: var(--header-text);
        font-family: 'Montserrat', sans-serif;
        font-weight: 700;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        transition: all 0.3s ease;
        position: relative;
        padding: 0.5rem 0;
    }

    .nav-link:hover { 
        color: var(--hover-color); 
    }
    
    /* Animated underline */
    .nav-link::after {
        content: ''; 
        position: absolute; 
        width: 0; 
        height: 2px;
        bottom: 0; 
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(90deg, #F4B942, #75AADB);
        transition: width 0.3s ease;
        border-radius: 2px;
    }

    .nav-link:hover::after { 
        width: 100%; 
    }

    /* --- MOBILE --- */
    #mobile-menu-btn {
        display: none; 
        background: none; 
        border: none; 
        cursor: pointer;
        flex-direction: column; 
        gap: 6px; 
        padding: 8px;
        border-radius: 8px;
        transition: background 0.3s ease;
    }

    #mobile-menu-btn:hover {
        background: rgba(244, 185, 66, 0.1);
    }

    .hamburger-line {
        width: 24px; 
        height: 2px;
        background-color: var(--header-text);
        transition: all 0.3s ease;
        border-radius: 2px;
    }

    #mobile-menu-btn.active .hamburger-line:nth-child(1) { 
        transform: rotate(45deg) translate(5px, 6px); 
        background-color: #F4B942;
    }
    #mobile-menu-btn.active .hamburger-line:nth-child(2) { 
        opacity: 0; 
    }
    #mobile-menu-btn.active .hamburger-line:nth-child(3) { 
        transform: rotate(-45deg) translate(5px, -6px); 
        background-color: #F4B942;
    }

    .mobile-menu-container {
        position: absolute; 
        top: 70px; 
        left: 0; 
        width: 100%;
        background: var(--header-bg);
        border-bottom: 1px solid var(--header-border);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);
        max-height: 0; 
        overflow: hidden; 
        transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .mobile-menu-container.active { 
        max-height: 350px; 
    }
    
    .mobile-menu-container ul {
        list-style: none; 
        padding: 2rem; 
        margin: 0;
        display: flex; 
        flex-direction: column; 
        gap: 1.5rem; 
        text-align: center;
    }

    .mobile-link {
        color: var(--header-text); 
        text-decoration: none;
        font-family: 'Montserrat', sans-serif; 
        font-weight: 700; 
        font-size: 1rem;
        transition: color 0.3s ease;
        display: inline-block;
        padding: 0.5rem 1rem;
        border-radius: 8px;
    }

    .mobile-link:hover {
        color: #F4B942;
        background: rgba(244, 185, 66, 0.1);
    }

    @media (max-width: 768px) {
        .desktop-nav { display: none; }
        #mobile-menu-btn { display: flex; }
        .header-container { padding: 0 1.5rem; }
        .logo { height: 32px; }
        
        .site-header::after {
            opacity: 0.5;
        }
    }
</style>