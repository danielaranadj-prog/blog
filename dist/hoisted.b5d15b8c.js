import"./chunks/CookieConsent.astro_astro_type_script_index_0_lang.e2d367ae.js";/* empty css                              */async function g(){if(!navigator.webdriver)try{const t={type:"page_view",path:window.location.pathname,title:document.title,referrer:document.referrer||"",screenSize:`${window.innerWidth}x${window.innerHeight}`};await fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(t){console.error("Analytics Error:",t)}}g();document.addEventListener("astro:page-load",g);function p(){const t=document.querySelector(".prose"),e=document.getElementById("toc-list");if(!t||!e)return;e.innerHTML="";const n=t.querySelectorAll("h2, h3");if(n.length===0){document.querySelector(".toc-container").style.display="none";return}n.forEach((o,a)=>{if(!o.id){const i=o.textContent.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"");o.id=`${i}-${a}`}const r=document.createElement("li");r.className=`toc-item ${o.tagName.toLowerCase()}`;const s=document.createElement("a");s.href=`#${o.id}`,s.textContent=o.textContent,s.addEventListener("click",i=>{i.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,null,`#${o.id}`)}),r.appendChild(s),e.appendChild(r)});const c=new IntersectionObserver(o=>{o.forEach(a=>{if(a.isIntersecting){const r=a.target.id,s=e.querySelector(`a[href="#${r}"]`);s&&(e.querySelectorAll("a").forEach(i=>i.classList.remove("active")),s.classList.add("active"))}})},{rootMargin:"-100px 0px -66% 0px"});n.forEach(o=>c.observe(o))}p();document.addEventListener("astro:page-load",p);function u(){const t=document.getElementById("reading-progress");if(!t)return;const e=window.innerHeight,n=document.documentElement.scrollHeight,c=window.scrollY||document.documentElement.scrollTop,o=n-e,r=c/o*100;t.style.width=`${Math.min(r,100)}%`}let d=!1;window.addEventListener("scroll",()=>{d||(window.requestAnimationFrame(()=>{u(),d=!1}),d=!0)});u();document.addEventListener("astro:page-load",u);function h(){const t=document.getElementById("back-to-top");if(!t)return;function e(){(window.scrollY||document.documentElement.scrollTop)>300?t.classList.add("visible"):t.classList.remove("visible")}t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});let n=!1;window.addEventListener("scroll",()=>{n||(window.requestAnimationFrame(()=>{e(),n=!1}),n=!0)}),e()}h();document.addEventListener("astro:page-load",h);function f(){const t=document.getElementById("image-lightbox"),e=document.getElementById("lightbox-image"),n=document.querySelector(".lightbox-caption"),c=document.querySelector(".lightbox-close"),o=document.querySelector(".lightbox-overlay");if(!t||!e)return;function a(i,l){e.src=i,e.alt=l,n&&(n.textContent=l||""),t.classList.add("active"),t.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden"}function r(){t.classList.remove("active"),t.setAttribute("aria-hidden","true"),document.body.style.overflow="",setTimeout(()=>{e.src=""},300)}document.querySelectorAll(".prose img, .content img, article img").forEach(i=>{i.style.cursor="pointer",i.addEventListener("click",l=>{l.preventDefault();const m=l.target;a(m.src,m.alt||"")})}),c?.addEventListener("click",r),o?.addEventListener("click",r),document.addEventListener("keydown",i=>{i.key==="Escape"&&t.classList.contains("active")&&r()}),e.addEventListener("click",i=>{i.stopPropagation()})}f();document.addEventListener("astro:page-load",f);function v(){document.querySelectorAll(".copy-link").forEach(e=>{e.addEventListener("click",async()=>{const n=e.getAttribute("data-url");if(!!n)try{await navigator.clipboard.writeText(n);const c=e.innerHTML;e.innerHTML=`
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="20 6 9 17 4 12"/>
            </svg>
            ${e.querySelector("span")?"<span>\xA1Copiado!</span>":""}
          `,e.classList.add("copied"),setTimeout(()=>{e.innerHTML=c,e.classList.remove("copied")},2e3)}catch(c){console.error("Error al copiar:",c)}})})}v();document.addEventListener("astro:page-load",v);
